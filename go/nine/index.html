<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>CyberPoC</title>
    <style>
        .grid-item {
            aspect-ratio: 1;
            height: 50px;
        }
    </style>
</head>
<body>
<section>
    <div class="max-w-screen-xl px-4 py-8 mx-auto sm:px-6 sm:py-12 lg:px-8">
        <header>
            <div class="mx-auto flex h-16 max-w-screen-xl items-center gap-8">
                <h2 class="text-xl font-bold text-gray-900 sm:text-3xl">
                    六十四卦
                </h2>
                <a
                        class="group relative inline-block text-sm font-medium text-indigo-600 focus:outline-none focus:ring active:text-indigo-500"
                        href="/restart"
                >
  <span
          class="absolute inset-0 translate-x-0.5 translate-y-0.5 bg-indigo-600 transition-transform group-hover:translate-y-0 group-hover:translate-x-0"
  ></span>

                    <span class="relative block border border-current bg-white px-8 py-3">
    重新开始
  </span>
                </a>
            </div>

            <p class=" mt-4 text-gray-500">
                “有天地，然后万物生焉。盈天地之间者，唯万物，故受之以屯；屯者盈也，屯者物之始生也。”
            </p>

            <p class=" mt-4 text-gray-500">
                小友，我看你印堂发黑，今日定有一美貌女鬼来寻你。今日老夫提前指点你一番，望你能逢凶化吉，来选一卦吧。
            </p>
        </header>

        <div class="flex justify-center items-center pt-10">
            <div class="grid grid-cols-8 gap-4">
                {{ range $x := .products }}
                <div class="grid-item {{$x.Class}} flex justify-center items-center cursor-pointer"
                     onclick="run('{{ $x.Id }}', '{{ $x.Price }}','{{ $x.Word }}')">
                    <span class="text-2xl text-white"> {{ $x.Word }}</span>
                </div>
                {{ end }}
            </div>
        </div>
    </div>
</section>

</body>

<script type="application/javascript">
    function run(id, price, word) {
        if (window.confirm(`小友，你确定要选【${word}】这一卦吗?`)) {
            fetch(`/choose/${id}/${price}`)
                .then(async response => {
                    let text = await response.text();
                    alert(text);
                })
        }
    }
</script>
</html>